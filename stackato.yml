name: kitchensink

ignores:
  - ".git"
  - "*.pyc"
  - "*.pyo"
  - "*.swp"
  - "*~"
  - "*.sublime*"
  - ".coverage*"
  - "_coverage/*"
  - ".noseids"
  - "*settings/local.py"
env:
  DJANGO_SETTINGS_MODULE: kitchensink.settings
  #PIP_OPTS: --no-deps --exists-action=w
  PIP_REQUIREMENTS_FILE: requirements/dev.txt
  DJANGO_SECRET_KEY: ${random-word}

requirements:
  ubuntu:
    - python-imaging-dbg
    - python-lxml
    - python-kombu
  pypm:
    - dj-database-url
    - MySQL-python==1.2.3
    - py-bcrypt==0.2
    - lxml==2.2.6
    - gunicorn
    - funfactory
    - django==1.4
    - django-nose
    - pytz
    - jinja2
    - django-compressor

services:
  ${name}-db: mysql

mem: 128M

hooks:
  post-staging:
    - python manage.py syncdb --noinput

framework:
  type: python
  start-file: wsgi/playdoh.wsgi
  runtime: python27

# processes:
#   web: gunicorn -b 0.0.0.0:8001 wsgi.playdoh
